<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å½•éŸ³ç®¡ç†åå°</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <style>
        body { padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        table { width: 100%; margin-top: 10px; }
        th, td { text-align: left; padding: 8px; white-space: nowrap; }
        summary { font-weight: bold; cursor: pointer; display: flex; align-items: center; } /* ç§»é™¤ justify-content */
        details { border: 1px solid #e0e0e0; border-radius: 5px; padding: 10px; margin-bottom: 10px; overflow-x: auto; } /* æ·»åŠ æ¨ªå‘æ»šåŠ¨ */
        details[open] { padding-bottom: 15px; }
    </style>
</head>
<body>
    <div class="container">
        <nav>
            <ul>
                <li><strong>å½•éŸ³ç®¡ç†</strong></li>
            </ul>
            <ul>
                <li><a href="/generate" role="button">ç”Ÿæˆé™æ€ç½‘ç«™</a></li>
            </ul>
        </nav>

        <h1>å½•éŸ³åˆ—è¡¨</h1>
        
        {{ range $folder, $files := . }}
        <details>
            <summary>
                <span>ğŸ“ {{ if eq $folder "/" }}æ ¹ç›®å½•{{ else }}{{ $folder }}{{ end }} ({{ len $files }} ä¸ªæ–‡ä»¶)</span>
                <a href="/edit-folder?path={{ $folder }}" role="button" class="secondary outline" style="margin-left: auto;">ç¼–è¾‘ä½ç½®</a>
            </summary>
            <table>
                <thead>
                    <tr>
                        <th>æ ‡é¢˜</th>
                        <th>æ–‡ä»¶å</th>
                        <th>æ—¶é•¿</th>
                        <th>å¤§å°</th>
                        <th>å½•éŸ³ä½ç½®</th>
                        <th>å½•éŸ³æ—¶é—´</th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody>
                    {{ range $files }}
                    <tr>
                        <td>{{ .Title }}</td>
                        <td>{{ Base .SourceFilename }}</td>
                                            <td>{{ formatDuration .DurationSeconds }}</td>
                                            <td>{{ printf "%.2f MB" .SourceFileSizeMB }}</td>
                                            <td>{{ .Location }}</td>                        <td>{{ .RecordDate.Format "2006-01-02 15:04" }}</td>
                        <td><a href="/edit?filename={{ .SourceFilename }}">ç¼–è¾‘</a></td>
                    </tr>
                    {{ end }}
                </tbody>
            </table>
        </details>
        {{ else }}
        <p>æš‚æ— å½•éŸ³æ–‡ä»¶ï¼Œè¯·å°† .wav æ–‡ä»¶æ”¾å…¥ `data/wav` ç›®å½•ä¸­ã€‚</p>
        {{ end }}
    </div>
</body>
</html>
